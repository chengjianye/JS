<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

</head>
<body>
	<div>您抽中的奖品是：<span id="result"></span></div>
	<input type="button" value="抽 奖" id="btn" />
	<script>
        var prizes = ["Iphone7","Ipad","Ipad mini","小米Note4","谢谢参与","50员充值卡","300元京东购物卡","新马泰7日游"];

        var result=document.getElementById('result')
        var btn=document.getElementById('btn')
        var sum=0;
        var timer=null;
        /*function random(n,m){
                return Math.floor(Math.random()*(m-n+1))+n
        }

        function luckyDraw(){
                btn.onclick=function(){
                sum++;
                if(sum>3){
                        alert('您的抽奖次数已用完~，明天再来抽吧！')
                        btn.disabled=true
                        return;
                }
                btn.disabled=true;
                timer=setInterval(function(){
                      result.innerHTML= prizes[random(0,prizes.length-1)]
                },500)
                setTimeout(function(){
                        clearInterval(timer)
                        btn.disabled=false
                        var val=result.innerHTML;
                        prizes.splice(prizes.indexOf(val),1)
                },5000)
                 }
        }

        luckyDraw();*/
        // 补全代码，实现点击“抽奖”按钮进行抽奖，具体要求如下:
        // 点击“抽奖”按钮后，在数组中随机生成一个奖品，生成时间为40秒，必须有随机生成的
        // 过程，即需要使用定时器，<span id="result"></span>中要显示抽中的奖品，40秒后定时器停止，此时抽中哪个奖品，显示
        // 哪个奖品名称，同时抽中的奖品从数组中删除。
        // 抽奖过程中“抽奖”按钮不可再次点击，抽奖结束后，可以继续点击抽
        // 每一个用户只有3次抽奖机会，如果是第四次抽，点击按钮时，提示用户“您的抽奖次数已用完~，明天再来抽吧！”

        function random(n,m){
             return Math.floor(Math.random()*(m-n+1))+n
        }

       function luckyDraw(){
             btn.onclick=function(){
                    sum++
                    if(sum>3){
                        alert('您的抽奖次数已用完~，明天再来抽吧！')
                        btn.disabled=true
                        return
                    }else{
                         btn.disabled=true
                         timer=setInterval(function(){
                             result.innerHTML=prizes[random(0,prizes.length-1)]
                         },100)

                         setTimeout(function(){
                            clearInterval(timer)
                            btn.disabled=false
                            var val=result.innerHTML;
                            prizes.splice(prizes.indexOf(val),1)
                            console.log(prizes)
                         },3000)
                    }
             }
       }

       luckyDraw();
	</script>
</body>
</html>